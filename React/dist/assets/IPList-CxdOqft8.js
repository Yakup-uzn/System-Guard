import{j as e}from"./index-Be5gV0GW.js";import{r as a,m as w,n as j,o as z,p as P,q as A,s as F,t as L,u as E,v as R}from"./icons-DvRqANnr.js";import"./react-Csw2ODfV.js";import"./firebase-Bvu3lIf5.js";const X=()=>{const[h,i]=a.useState([]),[S,p]=a.useState(!0),[n,d]=a.useState("all"),[u,m]=a.useState(50),[f,k]=a.useState(""),[y,C]=a.useState("");a.useEffect(()=>{v()},[]);const v=()=>{fetch("http://localhost:8080/api/ips").then(t=>t.json()).then(t=>{i(t),p(!1)}).catch(t=>{console.error("Veri alÄ±namadÄ±:",t),p(!1)})},I=async t=>{i(c=>c.map(r=>r.id===t?{...r,status:!r.status}:r));try{(await fetch("http://localhost:8080/api/ips/status",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({id:t})})).ok||(console.error("API isteÄŸi baÅŸarÄ±sÄ±z. Durum geri alÄ±nÄ±yor..."),i(r=>r.map(s=>s.id===t?{...s,status:!s.status}:s)))}catch(c){console.error("Ä°stek sÄ±rasÄ±nda hata:",c),i(r=>r.map(s=>s.id===t?{...s,status:!s.status}:s))}},g=h.filter(t=>n==="blocked"?t.status===!1:n==="unblocked"?t.status===!0:!0).filter(t=>t.ipAddress.toLowerCase().includes(f.toLowerCase())).filter(t=>t.isp.toLowerCase().includes(y.toLowerCase())).slice(0,u);return e.jsxs("div",{style:T,children:[e.jsx("h2",{style:B,children:"ðŸ’¾ IP Listesi YÃ¶netim SayfasÄ±"}),e.jsxs("div",{style:H,children:[e.jsxs("div",{style:N,children:[e.jsxs("button",{style:{...x,backgroundColor:n==="all"?"#3498db":"#ecf0f1",color:n==="all"?"#fff":"#2c3e50"},onClick:()=>d("all"),children:[e.jsx(w,{})," TÃ¼mÃ¼"]}),e.jsxs("button",{style:{...x,backgroundColor:n==="blocked"?"#27ae60":"#ecf0f1",color:n==="blocked"?"#fff":"#2c3e50"},onClick:()=>d("blocked"),children:[e.jsx(j,{})," Engellenenler"]}),e.jsxs("button",{style:{...x,backgroundColor:n==="unblocked"?"#c0392b":"#ecf0f1",color:n==="unblocked"?"#fff":"#2c3e50"},onClick:()=>d("unblocked"),children:[e.jsx(z,{})," Engellenmeyenler"]})]}),e.jsxs("select",{style:O,value:u,onChange:t=>m(Number(t.target.value)),children:[e.jsx("option",{value:50,children:"Son 50 KayÄ±t"}),e.jsx("option",{value:100,children:"Son 100 KayÄ±t"}),e.jsx("option",{value:200,children:"Son 200 KayÄ±t"})]}),e.jsx("input",{type:"text",placeholder:"IP adresini arayÄ±n...",value:f,onChange:t=>k(t.target.value),style:b}),e.jsx("input",{type:"text",placeholder:"ISP'yi arayÄ±n...",value:y,onChange:t=>C(t.target.value),style:b})]}),e.jsxs("p",{style:U,children:[e.jsx(P,{})," Toplam ",e.jsx("strong",{children:h.length})," kayÄ±t bulundu."," ","Son ",e.jsx("strong",{children:g.length})," kayÄ±t gÃ¶steriliyor."]}),S?e.jsx("p",{style:D,children:"YÃ¼kleniyor..."}):e.jsx("div",{style:W,children:e.jsxs("table",{style:G,children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{style:o,children:"#"}),e.jsx("th",{style:o,children:"IP Adresi"}),e.jsxs("th",{style:o,children:[e.jsx(A,{})," ISP"]}),e.jsxs("th",{style:o,children:[e.jsx(F,{})," Skor"]}),e.jsxs("th",{style:o,children:[e.jsx(L,{})," Ãœlke"]}),e.jsx("th",{style:o,children:"Alan AdÄ±"}),e.jsx("th",{style:o,children:"Sorgu Tarihi"}),e.jsx("th",{style:o,children:"Durum"}),e.jsx("th",{style:o,children:"Ä°ÅŸlem"})]})}),e.jsx("tbody",{children:g.map((t,c)=>e.jsxs("tr",{style:{...K,backgroundColor:c%2===0?"#ffffff":"#f9f9f9"},children:[e.jsx("td",{style:l,children:t.id}),e.jsx("td",{style:l,children:t.ipAddress}),e.jsx("td",{style:l,children:t.isp}),e.jsx("td",{style:l,children:e.jsx("span",{style:{...Y,backgroundColor:t.abuseScore>=80?"#e74c3c":t.abuseScore>=40?"#f39c12":"#2ecc71"},children:t.abuseScore})}),e.jsx("td",{style:l,children:t.countryCode}),e.jsx("td",{style:l,children:t.domain}),e.jsx("td",{style:l,children:new Date(t.queryDate).toLocaleString("tr-TR")}),e.jsx("td",{style:l,children:t.status?e.jsxs("span",{style:{color:"#27ae60",fontWeight:"bold"},children:[e.jsx(j,{})," Engelsiz"]}):e.jsxs("span",{style:{color:"#c0392b",fontWeight:"bold"},children:[e.jsx(E,{})," Engelli"]})}),e.jsx("td",{style:l,children:e.jsx("button",{style:q,onClick:()=>I(t.id),children:e.jsx(R,{})})})]},t.id))})]})})]})},T={fontFamily:"'Segoe UI', Tahoma, Geneva, Verdana, sans-serif",backgroundColor:"",maxHeight:"100vh"},B={fontSize:"28px",fontWeight:"600",textAlign:"center",marginBottom:"30px",color:"#2c3e50"},D={textAlign:"center",fontSize:"18px"},W={maxHeight:"460px",overflowY:"auto",backgroundColor:"#fff",borderRadius:"15px",boxShadow:"0 4px 12px rgba(0,0,0,0.1)"},G={width:"100%",borderCollapse:"collapse",borderRadius:"12px",overflow:"hidden"},o={padding:"14px",backgroundColor:"#2c3e50",color:"#ecf0f1",fontWeight:"600",fontSize:"14px",textAlign:"left"},K={transition:"background-color 0.2s ease-in-out"},l={padding:"12px 14px",fontSize:"14px",color:"#34495e"},Y={color:"white",padding:"4px 10px",borderRadius:"8px",fontWeight:"bold",fontSize:"12px"},q={backgroundColor:"#2980b9",color:"#fff",border:"none",padding:"6px 10px",borderRadius:"6px",cursor:"pointer",fontSize:"13px",display:"flex",alignItems:"center",gap:"6px"},H={display:"flex",flexWrap:"wrap",gap:"10px",marginBottom:"20px",alignItems:"center"},N={display:"flex",gap:"10px"},x={display:"flex",alignItems:"center",gap:"6px",padding:"8px 14px",borderRadius:"6px",border:"none",cursor:"pointer",fontSize:"14px"},O={padding:"8px",borderRadius:"6px",border:"1px solid #ccc",fontSize:"14px"},b={padding:"8px",borderRadius:"6px",border:"1px solid #ccc",fontSize:"14px",flex:"1",minWidth:"180px"},U={fontSize:"14px",color:"#2c3e50",marginBottom:"16px"};export{X as default};
